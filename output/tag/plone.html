<!DOCTYPE html>
<html lang="en">
<head>
        <title>DavidJB.com - plone</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="../theme/css/main.css" type="text/css" />
                <link href="http://davidjb.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="DavidJB.com Atom Feed" />
                
        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie.css"/>
                <script src="../js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">DavidJB.com  <strong>Ramblings about Plone, Pyramid, Python, the web, Linux, roses and more.</strong></a></h1>
                <nav><ul>
                                                    <li><a href="../pages/about-me.html">About me</a></li>
                                    <li><a href="../pages/blog.html">Blog</a></li>
                                    <li><a href="../pages/projects.html">Projects</a></li>
                                                                </ul></nav>
        </header><!-- /#banner -->
                
            

                            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="../blog/2012/06/easier-github-organisation-repository-and-team-management-with-github-collective/">Easier GitHub organisation, repository and team management with github-collective</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2012-06-22T12:17:00">
                Fri 22 June 2012
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/it.html">IT</a>. </p>
<p>tags: <a href="../tag/collective.html">collective</a><a href="../tag/github.html">github</a><a href="../tag/ini.html">ini</a><a href="../tag/jenkins.html">jenkins</a><a href="../tag/management.html">management</a><a href="../tag/organization.html">organization</a><a href="../tag/plone.html">plone</a><a href="../tag/script.html">script</a></p>
</footer><!-- /.post-info --><p>Have you ever felt that administering your GitHub organisation (or
organization, depending from where you hail), its repositories, teams,
and service hooks has become a tedious task and that you'd rather be
doing something else? &nbsp;Maybe you're of the mindset that there should be
a better way of doing things - a way that involves specific,
version-controlled configuration and less repetition (less
clicky-clicky). &nbsp;The good news is that there is -- <a class="reference external" href="http://pypi.python.org/pypi/github-collective">github-collective</a>!</p>
<p>This is a script, written in Python, that utilises <a class="reference external" href="http://developer.github.com/">GitHub's JSON-based
API</a> to allow you to construct an ini-style text-based configuration
representing your GitHub organisation and have this sync to create
repositories and service hooks for said repositories, teams, and
configure access rights. &nbsp;At present, this works <em>from</em> your
configuration <em>to</em> GitHub (not vice versa at present). You may already
know this as what's powering the <a class="reference external" href="http://git.io/collective">GitHub Collective</a> to manage
repositories and teams, especially if you're in the Plone community.</p>
<p>An <a class="reference external" href="https://github.com/collective/github-collective/blob/master/example.cfg">example configuration</a> lives within its source code repository, and
similarly, the configuration that <a class="reference external" href="https://github.com/collective/collective.github.com/blob/master/permissions.cfg">powers the Collective</a> is available
also. Effectively, you define different types of sections ([team],
[hook], [repo]) and these will correspond to certain things being
created on GitHub via the API.</p>
<div class="section" id="our-implementation">
<h2>Our implementation</h2>
<p>We at the James Cook University <a class="reference external" href="http://eresearch.jcu.edu.au">eResearch Centre</a>&nbsp;have deployed this
for use against our <a class="reference external" href="http://git.io/jcu">GitHub organisation</a>&nbsp;and our workflow looks like
this:</p>
<ol class="arabic simple">
<li>Users are able to fork a configuration repository and modify
accordingly. For simplicity, since changes are frequently minor, I
suggest using GitHub's &quot;Edit this file&quot; feature via the web.</li>
<li>User creates Pull Request for changes.</li>
<li>Administrator reviews and merges changes from Pull Request.</li>
<li>Configuration repository's service hook sends POST to Jenkins CI
instance</li>
<li>Jenkins CI instance runs the <em>github-collective</em> script upon
receiving this hook.</li>
<li>Changes to configuration get enacted on GitHub.</li>
</ol>
<p>This process is similar to what happens for the Collective, except that
our service hook and Jenkins take care of making the changes happen,
rather than a periodical cron job.</p>
<p>Our Jenkins job uses the&nbsp;<a class="reference external" href="https://wiki.jenkins-ci.org/display/JENKINS/Text-finder+Plugin">Jenkins Text Finder</a>&nbsp;plugin to search for
the regex &quot;Traceback \(most recent call last\)&quot; in the output to
determine success or failure. &nbsp;This isn't the most elegant solution in
the world, but it's good enough for now.</p>
<p>For what it's worth, we have a total of 25 repositories; a similar
number of teams; give or take 12 staff members in total; and the end
result is that running <em>github-collective</em> once cached takes only around
6 seconds, including Jenkins overhead. &nbsp;Unfortunately I'm unable to
provide our exact configuration, but for everything we do, I've
'anonymised' the configuration and included it back in the public
repository as examples. Happy to answer questions about what we're doing
too!</p>
</div>
<div class="section" id="thanks">
<h2>Thanks</h2>
<p>All credit to Rok Garbas and Alex Clark for their work on this - it
works fantastically. I can only take credit for coming in later with a
few things necessary our deployment. <em>Github-collective</em> now supports
all GitHub API settings for repositories (thus allowing you to create
private repos - something critical for us, and set other metadata) and
post-receive service hooks (so you can easily manage hooks on GitHub).
That, and a hearty dose of end-user documentation.</p>
</div>
<p>There are <a href="../blog/2012/06/easier-github-organisation-repository-and-team-management-with-github-collective/#disqus_thread">comments</a>.</p>                </article>
                            </aside><!-- /#featured -->
                            <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">
                                                

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2012/06/members-cant-add-folders-to-plone-via-webdav-401-unauthorized/" rel="bookmark"
                           title="Permalink to Members can't add folders to Plone via WebDAV (401 Unauthorized)">Members can't add folders to Plone via WebDAV (401 Unauthorized)</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2012-06-22T11:20:00">
                Fri 22 June 2012
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/plone.html">Plone</a>. </p>
<p>tags: <a href="../tag/folder.html">folder</a><a href="../tag/http.html">http</a><a href="../tag/plone.html">plone</a><a href="../tag/upload.html">upload</a><a href="../tag/webdav.html">webdav</a></p>
</footer><!-- /.post-info -->                <p>This is a mirror of the (excellent) documentation at
<a class="reference external" href="http://plone.org/documentation/error/unable-to-create-a-folder-through-webdav/">http://plone.org/documentation/error/unable-to-create-a-folder-through-webdav/</a>,
but just a short editorial to also highlight that this is still very
applicable to Plone 4.x. Effectively, the symptom is that users will
report seeing a &quot;401 Unauthorized&quot; error when trying to create ...</p>
                <a class="readmore" href="../blog/2012/06/members-cant-add-folders-to-plone-via-webdav-401-unauthorized/">read more</a>
                <p>There are <a href="../blog/2012/06/members-cant-add-folders-to-plone-via-webdav-401-unauthorized/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2011/11/user-ids-show-as-comment-authors-in-plone-4-x-after-migration-from-plone-app-discussion/" rel="bookmark"
                           title="Permalink to User IDs show as comment authors in Plone 4.x after migration from plone.app.discussion">User IDs show as comment authors in Plone 4.x after migration from plone.app.discussion</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-11-01T13:18:00">
                Tue 01 November 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/plone.html">Plone</a>. </p>
<p>tags: <a href="../tag/collective.html">collective</a><a href="../tag/comments.html">comments</a><a href="../tag/discussion.html">discussion</a><a href="../tag/docs.html">docs</a><a href="../tag/documentation.html">documentation</a><a href="../tag/fix.html">fix</a><a href="../tag/plone.html">plone</a></p>
</footer><!-- /.post-info -->                <p>If you've migrated your site from earlier versions of Plone to the
latest ones in the 4.x series, or else have started using
plone.app.discussion earlier than that, you might have come across a
situation where comments on your site show user IDs as authors rather
than ...</p>
                <a class="readmore" href="../blog/2011/11/user-ids-show-as-comment-authors-in-plone-4-x-after-migration-from-plone-app-discussion/">read more</a>
                <p>There are <a href="../blog/2011/11/user-ids-show-as-comment-authors-in-plone-4-x-after-migration-from-plone-app-discussion/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2011/10/epic-sized-files-with-plone-4-1-2/" rel="bookmark"
                           title="Permalink to Epic-sized (Really Large) Files with Plone 4.1.2">Epic-sized (Really Large) Files with Plone 4.1.2</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-10-12T16:10:00">
                Wed 12 October 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/plone.html">Plone</a>. </p>
<p>tags: <a href="../tag/blob.html">blob</a><a href="../tag/file.html">file</a><a href="../tag/large.html">large</a><a href="../tag/plone.html">plone</a></p>
</footer><!-- /.post-info -->                <p>In case you were ever curious, it's definitely possible to upload
epic-sized files within the Plone CMS. Browser support aside (Firefox
and your 2 GB limits, I'm looking you), I'd previously had issues with
being able to upload files larger than 4 GB, if memory serves correctly ...</p>
                <a class="readmore" href="../blog/2011/10/epic-sized-files-with-plone-4-1-2/">read more</a>
                <p>There are <a href="../blog/2011/10/epic-sized-files-with-plone-4-1-2/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2011/09/attributeerror-nonetype-object-has-no-attribute-items-cant-upgrade-plone-3-to-4-x/" rel="bookmark"
                           title="Permalink to AttributeError: 'NoneType' object has no attribute 'items': Can't upgrade Plone 3 to 4.x">AttributeError: 'NoneType' object has no attribute 'items': Can't upgrade Plone 3 to 4.x</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-09-14T08:57:00">
                Wed 14 September 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/plone.html">Plone</a>. </p>
<p>tags: <a href="../tag/41.html">4.1</a><a href="../tag/plone.html">plone</a><a href="../tag/plone-4.html">plone 4</a><a href="../tag/traceback.html">traceback</a><a href="../tag/upgrade.html">upgrade</a></p>
</footer><!-- /.post-info -->                <p>You may have seen an error like the one below when you've gone to
upgrade your Plone site to something in the Plone 4.x series from Plone
3:</p>
<pre class="code pytb literal-block">
<span class="x">2011-09-14 08:43:32 ERROR plone.app.upgrade Upgrade aborted. Error:
</span><span class="gt">Traceback (most recent call last):
</span>  File <span class="nb">&quot;/home/david/.buildout ...</span></pre>
                <a class="readmore" href="../blog/2011/09/attributeerror-nonetype-object-has-no-attribute-items-cant-upgrade-plone-3-to-4-x/">read more</a>
                <p>There are <a href="../blog/2011/09/attributeerror-nonetype-object-has-no-attribute-items-cant-upgrade-plone-3-to-4-x/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2011/07/watch-out-python-2-4-zeo-client-and-python-2-6-zeo-server/" rel="bookmark"
                           title="Permalink to Watch out: Python 2.4 ZEO client and Python 2.6 ZEO Server">Watch out: Python 2.4 ZEO client and Python 2.6 ZEO Server</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-07-11T16:23:00">
                Mon 11 July 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/plone.html">Plone</a>. </p>
<p>tags: <a href="../tag/database.html">database</a><a href="../tag/fs.html">fs</a><a href="../tag/plone.html">plone</a><a href="../tag/server.html">server</a><a href="../tag/zeo.html">zeo</a><a href="../tag/zope.html">zope</a></p>
</footer><!-- /.post-info -->                <p>Today was interesting when an issue with saving content on a Plone 3.3.5
site got reported to me. The system was producing undecipherable error
messages about ZEO disconnections and database conflicts whenever
someone would try and create some content within Plone (folders,
particularly). Errors looked like:</p>
<pre class="code pytb literal-block">
<span class="x">Module ZEO ...</span></pre>
                <a class="readmore" href="../blog/2011/07/watch-out-python-2-4-zeo-client-and-python-2-6-zeo-server/">read more</a>
                <p>There are <a href="../blog/2011/07/watch-out-python-2-4-zeo-client-and-python-2-6-zeo-server/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2011/06/extracting-a-buildout-versions-cfg-from-a-zope-instance-script/" rel="bookmark"
                           title="Permalink to Extracting a Buildout versions.cfg from a Zope instance script">Extracting a Buildout versions.cfg from a Zope instance script</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-06-02T16:07:00">
                Thu 02 June 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/python.html">Python</a>. </p>
<p>tags: <a href="../tag/buildout.html">buildout</a><a href="../tag/cat.html">cat</a><a href="../tag/cfg.html">cfg</a><a href="../tag/eggs.html">eggs</a><a href="../tag/grep.html">grep</a><a href="../tag/plone.html">plone</a><a href="../tag/sed.html">sed</a><a href="../tag/versions.html">versions</a><a href="../tag/zope.html">zope</a></p>
</footer><!-- /.post-info -->                <p>Today, I needed to migrate some legacy Plone installs set up using
Buildout. If I were to simply move the buildout files and re-run
buildout, I'd end up with the latest versions of add-on products - and
since I'm using legacy versions of Plone 3, that'd almost certainly ...</p>
                <a class="readmore" href="../blog/2011/06/extracting-a-buildout-versions-cfg-from-a-zope-instance-script/">read more</a>
                <p>There are <a href="../blog/2011/06/extracting-a-buildout-versions-cfg-from-a-zope-instance-script/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2011/05/cant-run-plonezope-buildout-on-ubuntu-11-04-after-upgrade-from-10-10/" rel="bookmark"
                           title="Permalink to Can't run Plone/Zope buildout on Ubuntu 11.04 after upgrade from 10.10">Can't run Plone/Zope buildout on Ubuntu 11.04 after upgrade from 10.10</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-05-11T09:33:00">
                Wed 11 May 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/it-linux-software.html">IT, Linux, Software</a>. </p>
<p>tags: <a href="../tag/buildout.html">buildout</a><a href="../tag/plone.html">plone</a><a href="../tag/python.html">python</a><a href="../tag/zope.html">zope</a></p>
</footer><!-- /.post-info -->                <p>After upgrading from Ubuntu 10.10 (Maverick Meerkat) to Ubuntu 11.04
(Natty Narwhal), you'll probably find that if you're running a Plone 4
buildout where you need to upgrade the Plone version, that compilation
of Zope will fail. The output will look something like this:</p>
<pre class="code pytb literal-block">
<span class="x">Getting distribution ...</span></pre>
                <a class="readmore" href="../blog/2011/05/cant-run-plonezope-buildout-on-ubuntu-11-04-after-upgrade-from-10-10/">read more</a>
                <p>There are <a href="../blog/2011/05/cant-run-plonezope-buildout-on-ubuntu-11-04-after-upgrade-from-10-10/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2011/03/increasing-plones-session-timeout/" rel="bookmark"
                           title="Permalink to Increasing Plone's session timeout">Increasing Plone's session timeout</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-03-08T10:01:00">
                Tue 08 March 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/plon.html">Plon</a>. </p>
<p>tags: <a href="../tag/buildout.html">buildout</a><a href="../tag/plone.html">plone</a><a href="../tag/session.html">session</a><a href="../tag/timeout.html">timeout</a><a href="../tag/zope.html">zope</a></p>
</footer><!-- /.post-info -->                <p>What you may notice if you're developing with Plone/Zope, is that if
you're storing small pieces of data within Plone's session variable (the
session_data_manager tool), data expires after a few minutes.&nbsp; By
default, this timeout is 20 minutes, but is far too short if you're ...</p>
                <a class="readmore" href="../blog/2011/03/increasing-plones-session-timeout/">read more</a>
                <p>There are <a href="../blog/2011/03/increasing-plones-session-timeout/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2011/01/migrating-plone-2-5-content-straight-onto-plone-4/" rel="bookmark"
                           title="Permalink to Migrating Plone 2.5 content straight onto Plone 4">Migrating Plone 2.5 content straight onto Plone 4</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-01-14T15:07:00">
                Fri 14 January 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/plone.html">Plone</a>. </p>
<p>tags: <a href="../tag/content.html">content</a><a href="../tag/migration.html">migration</a><a href="../tag/plone.html">plone</a><a href="../tag/settings.html">settings</a><a href="../tag/site.html">site</a></p>
</footer><!-- /.post-info -->                <p>It's my very last Plone 2.5 site and I'm very happy to see the back of
it.&nbsp; Using the joy that is <strong>quintagroup.transmogrifier</strong>, I was able
to, without much manual effort, migrate my content from a Plone 2.5 site
(constructed with instancemanager, of all things ...</p>
                <a class="readmore" href="../blog/2011/01/migrating-plone-2-5-content-straight-onto-plone-4/">read more</a>
                <p>There are <a href="../blog/2011/01/migrating-plone-2-5-content-straight-onto-plone-4/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            </ol><!-- /#posts-list -->
                            <p class="paginator">
        Page 1 / 7
            <a href="../tag/plone2.html">&raquo;</a>
    </p>
                        </section><!-- /#content -->
                    <section id="extras" class="body">
                        <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                                                    <li><a href="http://planet.plone.org">Planet Plone</a></li>
                                                    <li><a href=""></a></li>
                                                    <li><a href=""></a></li>
                                                </ul>
                </div><!-- /.blogroll -->
                                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://davidjb.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            
                                                    <li><a href="http://git.io/djb">GitHub</a></li>
                                                    <li><a href="http://twitter.com/davidjb_">Twitter</a></li>
                                                    <li><a href="http://linkedin.com/in/davidbeitey">LinkedIn</a></li>
                                                    <li><a href="http://facebook.com/david.beitey">Facebook</a></li>
                                                    <li><a href="https://plus.google.com/u/0/106527454335411502430">Google+</a></li>
                                                </ul>
                </div><!-- /.social -->
                </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24253455-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'davidjb';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>