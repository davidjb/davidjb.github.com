<!DOCTYPE html>
<html lang="en">
<head>
        <title>DavidJB.com - Linux</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="../theme/css/main.css" type="text/css" />
                <link href="http://davidjb.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="DavidJB.com Atom Feed" />
                
        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie.css"/>
                <script src="../js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">DavidJB.com  <strong>Ramblings about Plone, Pyramid, Python, the web, Linux, roses and more.</strong></a></h1>
                <nav><ul>
                                                    <li><a href="../pages/about-me.html">About me</a></li>
                                    <li><a href="../pages/blog.html">Blog</a></li>
                                    <li><a href="../pages/projects.html">Projects</a></li>
                                                                </ul></nav>
        </header><!-- /#banner -->
                
            

                            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="../blog/2012/02/java-http-request-fails-with-javax-net-ssl-sslpeerunverifiedexception-peer-not-authenticated/">Java HTTP request fails with &quot;javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated&quot;</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2012-02-16T15:16:00">
                Thu 16 February 2012
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/linux.html">Linux</a>. </p>
<p>tags: <a href="../tag/certificate.html">certificate</a><a href="../tag/java.html">java</a><a href="../tag/key.html">key</a><a href="../tag/linux.html">linux</a><a href="../tag/ssl.html">ssl</a><a href="../tag/store.html">store</a></p>
</footer><!-- /.post-info --><p>Searching the above-mentioned stack trace reveals lots and lots of
results, unsurprisingly. &nbsp;Most results are workarounds where you modify
the code, but what about if an application (like Jenkins/Hudson CI, in
my case) throws this error at you? The reason the error is occurring is
because the SSL certificate of the target you're connecting to isn't
considered valid by your Java instance's keystore. This may be because
the certificate itself is invalid, or, in my case, the CA chain couldn't
be validated (my OS is RHEL (Red Hat) 5.7, with OpenJDK 1.6). &nbsp;For
completeness, I should also mention that the issue here arose when I
asked Jenkins CI to use&nbsp;GitHub OAuth. As GitHub's SSL certificate has
been signed by DigiCert, and this isn't included within RHEL 5.7, the
error arises. &nbsp;A solution is, assuming you trust the cert or the CA, to
add the relevant certificates/root certificates to your Java keystore.</p>
<p>To do so, get your relevant certificates/root certificates, locate your
keystore, and add them accordingly:</p>
<pre class="code bash literal-block">
wget https://www.digicert.com/CACerts/DigiCertHighAssuranceEVCA-1.crt
wget https://www.digicert.com/testroot/DigiCertHighAssuranceEVRootCA.crt
keytool -importcert -storepass changeit -keystore /etc/alternatives/java_sdk/jre/lib/security/cacerts -alias digicertevrootca -file DigiCertHighAssuranceEVRootCA.crt
keytool -importcert -storepass changeit -keystore /etc/alternatives/java_sdk/jre/lib/security/cacerts -alias digicertevca1 -file DigiCertHighAssuranceEVCA-1.crt
</pre>
<p>This resolved the issue for me and GitHub OAuth completed successfully.
If you're having issues with just a single certificate, then just import
that one certificate.</p>
<p>For the interested Googlers, here's what the relevant chunk of
stacktrace looked like:</p>
<pre class="code bash literal-block">
javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated
at sun.security.ssl.SSLSessionImpl.getPeerCertificates<span class="o">(</span>SSLSessionImpl.java:371<span class="o">)</span>
at org.apache.http.conn.ssl.AbstractVerifier.verify<span class="o">(</span>AbstractVerifier.java:128<span class="o">)</span>
at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket<span class="o">(</span>SSLSocketFactory.java:390<span class="o">)</span>
at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection<span class="o">(</span>DefaultClientConnectionOperator.java:148<span class="o">)</span>
at org.apache.http.impl.conn.AbstractPoolEntry.open<span class="o">(</span>AbstractPoolEntry.java:149<span class="o">)</span>
at org.apache.http.impl.conn.AbstractPooledConnAdapter.open<span class="o">(</span>AbstractPooledConnAdapter.java:121<span class="o">)</span>
at org.apache.http.impl.client.DefaultRequestDirector.tryConnect<span class="o">(</span>DefaultRequestDirector.java:562<span class="o">)</span>
at org.apache.http.impl.client.DefaultRequestDirector.execute<span class="o">(</span>DefaultRequestDirector.java:415<span class="o">)</span>
at org.apache.http.impl.client.AbstractHttpClient.execute<span class="o">(</span>AbstractHttpClient.java:820<span class="o">)</span>
at org.apache.http.impl.client.AbstractHttpClient.execute<span class="o">(</span>AbstractHttpClient.java:754<span class="o">)</span>
at org.apache.http.impl.client.AbstractHttpClient.execute<span class="o">(</span>AbstractHttpClient.java:732<span class="o">)</span>
at org.jenkinsci.plugins.GithubSecurityRealm.doFinishLogin<span class="o">(</span>GithubSecurityRealm.java:278<span class="o">)</span>
</pre>
<p>This <a class="reference external" href="http://my.opera.com/karmazilla/blog/how-to-grab-the-certificate-from-a-website-and-import-it-with-java-keytool">fantastic post</a> set me on the right track.</p>
<p>There are <a href="../blog/2012/02/java-http-request-fails-with-javax-net-ssl-sslpeerunverifiedexception-peer-not-authenticated/#disqus_thread">comments</a>.</p>                </article>
                            </aside><!-- /#featured -->
                            <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">
                                                

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2011/10/logitech-g930-headphones-audio-quality-under-ubuntu/" rel="bookmark"
                           title="Permalink to Logitech G930 Headphones audio quality under Ubuntu">Logitech G930 Headphones audio quality under Ubuntu</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-10-24T09:28:00">
                Mon 24 October 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/linux.html">Linux</a>. </p>
<p>tags: <a href="../tag/g930.html">g930</a><a href="../tag/headphones.html">headphones</a><a href="../tag/linux.html">linux</a><a href="../tag/logitech.html">logitech</a><a href="../tag/pulseaudio.html">pulseaudio</a><a href="../tag/ubuntu.html">ubuntu</a></p>
</footer><!-- /.post-info -->                <p>So I recently purchased a new set of Logitech G930 headphones and am
currently using them with the latest version of Ubuntu, 11.10.&nbsp; Set up
was a breeze - just plug, check your PulseAudio config, and play.&nbsp; For
those of you, like me originally, who were wondering whether the G930 ...</p>
                <a class="readmore" href="../blog/2011/10/logitech-g930-headphones-audio-quality-under-ubuntu/">read more</a>
                <p>There are <a href="../blog/2011/10/logitech-g930-headphones-audio-quality-under-ubuntu/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2011/09/scp-files-back-home-using-reverse-ssh-in-1-command/" rel="bookmark"
                           title="Permalink to SCP remote files back home using reverse SSH (in 1 command)">SCP remote files back home using reverse SSH (in 1 command)</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-09-13T12:55:00">
                Tue 13 September 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/linux.html">Linux</a>. </p>
<p>tags: <a href="../tag/files.html">files</a><a href="../tag/linux.html">linux</a><a href="../tag/scp.html">scp</a><a href="../tag/security.html">security</a><a href="../tag/ssh.html">ssh</a><a href="../tag/transfer.html">transfer</a></p>
</footer><!-- /.post-info -->                <p>My recent work has involved copying files from a remote host, only
accessible via a hop, back to my local computer. This has been simple in
the past as the remote host has been able to connect to the local
computer and SCP files directly, on account of the firewall ...</p>
                <a class="readmore" href="../blog/2011/09/scp-files-back-home-using-reverse-ssh-in-1-command/">read more</a>
                <p>There are <a href="../blog/2011/09/scp-files-back-home-using-reverse-ssh-in-1-command/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2011/05/ubuntu-11-04-boot-freezes-with-2-6-38-8-generic-pae-kernel/" rel="bookmark"
                           title="Permalink to Ubuntu 11.04 boot freezes with 2.6.38-8-generic-pae kernel">Ubuntu 11.04 boot freezes with 2.6.38-8-generic-pae kernel</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-05-05T15:46:00">
                Thu 05 May 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/linux.html">Linux</a>. </p>
<p>tags: <a href="../tag/1104.html">11.04</a><a href="../tag/boot.html">boot</a><a href="../tag/frozen.html">frozen</a><a href="../tag/kernel.html">kernel</a><a href="../tag/natty.html">natty</a><a href="../tag/ubuntu.html">ubuntu</a></p>
</footer><!-- /.post-info -->                <p>So you've just installed 32-bit Ubuntu 11.04 (Natty Narwhal), and in my
case, upgraded from Ubuntu 10.04 (Maverick Meerkat). &nbsp;The upgrade
process seemingly went fine and then you were asked to restart your
computer. &nbsp;You diligently do so, only to come back to find that your
computer ...</p>
                <a class="readmore" href="../blog/2011/05/ubuntu-11-04-boot-freezes-with-2-6-38-8-generic-pae-kernel/">read more</a>
                <p>There are <a href="../blog/2011/05/ubuntu-11-04-boot-freezes-with-2-6-38-8-generic-pae-kernel/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2010/10/linux-printing-at-james-cook-university/" rel="bookmark"
                           title="Permalink to Linux: Printing at James Cook University">Linux: Printing at James Cook University</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2010-10-04T15:57:00">
                Mon 04 October 2010
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/linux.html">Linux</a>. </p>

</footer><!-- /.post-info -->                <p>Printing at JCU is difficult on Linux, given JCU exists as a Windows
environment. The fact that Xerox Postscript drivers for Linux aren't
exactly straight forward to install doesn't help either - they require
custom filter applications to be compiled.</p>
<div class="section" id="setting-up-the-drivers">
<h2>Setting up the drivers</h2>
<ol class="arabic">
<li><p class="first">To make sure you have ...</p></li></ol></div>
                <a class="readmore" href="../blog/2010/10/linux-printing-at-james-cook-university/">read more</a>
                <p>There are <a href="../blog/2010/10/linux-printing-at-james-cook-university/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2010/07/linux-make-time-with-faketime/" rel="bookmark"
                           title="Permalink to Linux: Make time with faketime">Linux: Make time with faketime</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2010-07-12T12:02:00">
                Mon 12 July 2010
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/linux.html">Linux</a>. </p>
<p>tags: <a href="../tag/faketime.html">faketime</a><a href="../tag/fix.html">fix</a><a href="../tag/linux.html">linux</a><a href="../tag/shp2svg.html">shp2svg</a><a href="../tag/time.html">time</a><a href="../tag/wine.html">wine</a></p>
</footer><!-- /.post-info -->                <p>So you, like me, have hit a situation where you've got a time-sensitive
application that won't run? Maybe you've downloaded one of those apps
(like a demo) that won't run after a certain date and time because it's
&quot;expired&quot;. Or else, maybe some other arbitrary ...</p>
                <a class="readmore" href="../blog/2010/07/linux-make-time-with-faketime/">read more</a>
                <p>There are <a href="../blog/2010/07/linux-make-time-with-faketime/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2010/05/things-to-do-on-ubuntu-10-04-lucid-lynx-after-install/" rel="bookmark"
                           title="Permalink to Things to do on Ubuntu 10.04 Lucid Lynx after install">Things to do on Ubuntu 10.04 Lucid Lynx after install</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2010-05-05T11:31:00">
                Wed 05 May 2010
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/linux.html">Linux</a>. </p>
<p>tags: <a href="../tag/1004.html">10.04</a><a href="../tag/drivers.html">drivers</a><a href="../tag/graphics.html">graphics</a><a href="../tag/install.html">install</a><a href="../tag/lucid.html">lucid</a><a href="../tag/ubuntu.html">ubuntu</a><a href="../tag/update.html">update</a></p>
</footer><!-- /.post-info -->                <p>I'm skipping actually quantifying the number of things to do because
this post will undoubtedly get updated as time goes on.&nbsp; I've just
updated both my computers (personal laptop and work desktop) to Ubuntu
10.04 from 9.10 and I'm very happy with how things have ...</p>
                <a class="readmore" href="../blog/2010/05/things-to-do-on-ubuntu-10-04-lucid-lynx-after-install/">read more</a>
                <p>There are <a href="../blog/2010/05/things-to-do-on-ubuntu-10-04-lucid-lynx-after-install/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2010/05/installing-python-2-4-on-ubuntu-10-04-lucid-lynx/" rel="bookmark"
                           title="Permalink to Installing Python 2.4 on Ubuntu 10.04 Lucid Lynx">Installing Python 2.4 on Ubuntu 10.04 Lucid Lynx</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2010-05-04T12:00:00">
                Tue 04 May 2010
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/linux.html">Linux</a>. </p>
<p>tags: <a href="../tag/help-guide.html">help guide</a><a href="../tag/installation.html">installation</a><a href="../tag/linux.html">linux</a><a href="../tag/lucid.html">lucid</a><a href="../tag/packages.html">packages</a><a href="../tag/python.html">python</a><a href="../tag/ubuntu.html">ubuntu</a></p>
</footer><!-- /.post-info -->                <p>Whoops.&nbsp; No one sent me the memo that Python
2.4 support was being removed entirely from the latest version of
Ubuntu, 10.04 Lucid Lynx.&nbsp; To be fair, I was presented with the message
that 'these outdated packages will be removed' and in that list was
python2.4.&nbsp; I ...</p>
                <a class="readmore" href="../blog/2010/05/installing-python-2-4-on-ubuntu-10-04-lucid-lynx/">read more</a>
                <p>There are <a href="../blog/2010/05/installing-python-2-4-on-ubuntu-10-04-lucid-lynx/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2010/01/ubuntu-crackling-audio-noises-on-a-dell-m1530-or-hda-cards/" rel="bookmark"
                           title="Permalink to Ubuntu: Crackling audio noises on a Dell M1530 (or HDA cards)">Ubuntu: Crackling audio noises on a Dell M1530 (or HDA cards)</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2010-01-16T12:18:00">
                Sat 16 January 2010
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/linux.html">Linux</a>. </p>
<p>tags: <a href="../tag/910.html">9.10</a><a href="../tag/audio.html">audio</a><a href="../tag/computer.html">computer</a><a href="../tag/crackling.html">crackling</a><a href="../tag/dell.html">dell</a><a href="../tag/intel.html">intel</a><a href="../tag/karmic.html">karmic</a><a href="../tag/laptop.html">laptop</a><a href="../tag/m1530.html">m1530</a><a href="../tag/popping.html">popping</a><a href="../tag/sound.html">sound</a><a href="../tag/ubuntu.html">ubuntu</a></p>
</footer><!-- /.post-info -->                <p>The problem I found (so did everyone else) when updating to Ubuntu 9.10
Karmic was static/popping noises when your sound card is silent (aka
goes into power-save mode). It applies to my Dell XPS M1530 laptop's
on-board sound and probably to the same chipset elsewhere.</p>
<p>The fix ...</p>
                <a class="readmore" href="../blog/2010/01/ubuntu-crackling-audio-noises-on-a-dell-m1530-or-hda-cards/">read more</a>
                <p>There are <a href="../blog/2010/01/ubuntu-crackling-audio-noises-on-a-dell-m1530-or-hda-cards/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../blog/2009/12/start-screen-after-suing-to-another-user/" rel="bookmark"
                           title="Permalink to Start screen after su'ing to another user">Start screen after su'ing to another user</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2009-12-04T15:49:00">
                Fri 04 December 2009
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../category/linux.html">Linux</a>. </p>

</footer><!-- /.post-info -->                <p>Today's problem is one that requires no introduction (well, maybe it
does :-| ) but it's a problem nonetheless.&nbsp; The issue is that after
using the '<strong>su</strong>' command to become another user, there's trouble
running <strong>screen</strong> sessions.</p>
<p>This page
(<a class="reference external" href="http://dbadump.blogspot.com/2009/04/start-screen-after-sudo-su-to-another.html">http://dbadump.blogspot.com/2009/04/start-screen-after-sudo-su-to-another.html</a>)
details it ...</p>
                <a class="readmore" href="../blog/2009/12/start-screen-after-suing-to-another-user/">read more</a>
                <p>There are <a href="../blog/2009/12/start-screen-after-suing-to-another-user/#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            </ol><!-- /#posts-list -->
                            <p class="paginator">
        Page 1 / 2
            <a href="../category/linux2.html">&raquo;</a>
    </p>
                        </section><!-- /#content -->
                    <section id="extras" class="body">
                        <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                                                    <li><a href="http://planet.plone.org">Planet Plone</a></li>
                                                    <li><a href=""></a></li>
                                                    <li><a href=""></a></li>
                                                </ul>
                </div><!-- /.blogroll -->
                                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://davidjb.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            
                                                    <li><a href="http://git.io/djb">GitHub</a></li>
                                                    <li><a href="http://twitter.com/davidjb_">Twitter</a></li>
                                                    <li><a href="http://linkedin.com/in/davidbeitey">LinkedIn</a></li>
                                                    <li><a href="http://facebook.com/david.beitey">Facebook</a></li>
                                                    <li><a href="https://plus.google.com/u/0/106527454335411502430">Google+</a></li>
                                                </ul>
                </div><!-- /.social -->
                </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24253455-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'davidjb';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>