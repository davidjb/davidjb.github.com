<!DOCTYPE html>
<html lang="en">
<head>
        <title>Plone/Zope, Python and collective.autoreload / plone.reload</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="../../../../theme/css/main.css" type="text/css" />
                <link href="http://davidjb.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="DavidJB.com Atom Feed" />
                
        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../../../../css/ie.css"/>
                <script src="../../../../js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../../../../css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../../../../">DavidJB.com  <strong>Ramblings about Plone, Pyramid, Python, the web, Linux, roses and more.</strong></a></h1>
                <nav><ul>
                                                    <li><a href="../../../../pages/about-me.html">About me</a></li>
                                    <li><a href="../../../../pages/blog.html">Blog</a></li>
                                    <li><a href="../../../../pages/projects.html">Projects</a></li>
                                                                </ul></nav>
        </header><!-- /#banner -->
        <section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="../../../../blog/2009/11/plonezope-python-and-collective-autoreloadplone-reload/" rel="bookmark"
           title="Permalink to Plone/Zope, Python and collective.autoreload / plone.reload">Plone/Zope, Python and collective.autoreload / plone.reload</a></h1>
      <a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="davidjb_">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    </header>

    <div class="entry-content">
      <footer class="post-info">
        <abbr class="published" title="2009-11-20T14:34:00">
                Fri 20 November 2009
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../../../../author/davidjb.html">davidjb</a>
        </address>
        <p>In <a href="../../../../category/python.html">Python</a>. </p>
<p>tags: <a href="../../../../tag/code.html">code</a><a href="../../../../tag/collective.html">collective</a><a href="../../../../tag/egg.html">egg</a><a href="../../../../tag/error.html">error</a><a href="../../../../tag/package.html">package</a><a href="../../../../tag/plone.html">plone</a><a href="../../../../tag/python.html">python</a><a href="../../../../tag/reload.html">reload</a><a href="../../../../tag/restart.html">restart</a></p>
</footer><!-- /.post-info -->      <p>Here's an interesting error message I got stumped with for a good set of
hours.&nbsp; The issue started with me using collective.autoreload with Plone
and it does the trick, mostly.&nbsp; With any such 'operation' and live
reloading of code for Python, you've got to expect that not everything
will go according to plan.&nbsp; Most things do, but one issue I found
presented with this error message:</p>
<pre class="code pytb literal-block">
<span class="x">&lt; ... huge traceback ...&gt;
TypeError: super(type, obj): obj must be an instance or subtype of type</span>
</pre>
<p>The issue arises for me (and you'll probably see it elsewhere) when I go
ahead and modify a Python class that I've extended off from another, and
I'm calling a function from the parent class.&nbsp; The browser view class
I'm extending from needs to use the same methods but extend the
functionality, so hence me calling super(...).myfunction().&nbsp;&nbsp; In
hindsight, the error is actually pretty logical -- the &quot;obj&quot; is being
shown to not be a type or subtype of the specified type.&nbsp; What they
didn't spell out in bright neon letters is that whilst the type I was
working with looks the same in code (it IS the same), having it reloaded
makes it different.</p>
<p>The solution is to restart Zope and go again.&nbsp; This same thing manifests
in a number of different ways (Error 500 Internal Server Errors for
certain views, etc) but if you're seeing something weird, don't always
assume you've broken something. My favourite thought for the week
applies directly to this:&nbsp; just because you hear hoofbeats, don't
immediately think zebras.&nbsp; Being in IT though, it's hard to go straight
for the simplest solution.&nbsp;&nbsp; Might save you some head-bashing as I've
done it for you. :)</p>
<p>As a side note, it's a similar idea as a network problem I saw the other
day.&nbsp; The problem could have been solved in 5 seconds by looking at the
lights on the network port, but the &quot;IT solution&quot; was to restart the
computer between OSes and check if the OS was the problem.&nbsp; Victims of
our own knowledge; we sadly know too much.</p>

    </div><!-- /.entry-content -->
        <div class="comments">
      <h2>Comments !</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_identifier = "blog/2009/11/plonezope-python-and-collective-autoreloadplone-reload/";
        var disqus_url = "../../../../blog/2009/11/plonezope-python-and-collective-autoreloadplone-reload/";
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://davidjb.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
    </div>
    
  </article>
</section>
        <section id="extras" class="body">
                        <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                                                    <li><a href="http://planet.plone.org">Planet Plone</a></li>
                                                    <li><a href=""></a></li>
                                                    <li><a href=""></a></li>
                                                </ul>
                </div><!-- /.blogroll -->
                                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://davidjb.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            
                                                    <li><a href="http://git.io/djb">GitHub</a></li>
                                                    <li><a href="http://twitter.com/davidjb_">Twitter</a></li>
                                                    <li><a href="http://linkedin.com/in/davidbeitey">LinkedIn</a></li>
                                                    <li><a href="http://facebook.com/david.beitey">Facebook</a></li>
                                                    <li><a href="https://plus.google.com/u/0/106527454335411502430">Google+</a></li>
                                                </ul>
                </div><!-- /.social -->
                </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24253455-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'davidjb';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>